--[[
	 __  __              _____   _   _ 
	|  \/  |     /\     |_   _| | \ | |
	| \  / |    /  \      | |   |  \| |
	| |\/| |   / /\ \     | |   | . ` |
	| |  | |  / ____ \   _| |_  | |\  |
	|_|  |_| /_/    \_\ |_____| |_| \_|
--]]
local Player = game.Players.LocalPlayer
local Mouse = Player:GetMouse()
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGuiService = game:GetService("CoreGui")
local RunService = game:GetService("RunService")
local TextService = game:GetService("TextService")

local TweenTime = 0.1
local Level = 1

local GlobalTweenInfo = TweenInfo.new(TweenTime)
local AlteredTweenInfo = TweenInfo.new(TweenTime, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)

local function Tween(GuiObject, Dictionary)
	local TweenBase = TweenService:Create(GuiObject, GlobalTweenInfo, Dictionary)
	TweenBase:Play()
	return TweenBase
end

local function GetXY(GuiObject)
	local X, Y = Mouse.X - GuiObject.AbsolutePosition.X, Mouse.Y - GuiObject.AbsolutePosition.Y
	local MaxX, MaxY = GuiObject.AbsoluteSize.X, GuiObject.AbsoluteSize.Y
	X, Y = math.clamp(X, 0, MaxX), math.clamp(Y, 0, MaxY)
	return X, Y, X/MaxX, Y/MaxY
end

local UILibrary = {}

function UILibrary.Load(GUITitle)

	local Encrypt = Instance.new("ScreenGui")
	Encrypt.Name = "MainGui"
	Encrypt.ZIndexBehavior = Enum.ZIndexBehavior.Global
	Encrypt.ResetOnSpawn = false
	if game.PlaceId == 8204899140 or game.PlaceId == 8206123457 or RunService:IsStudio() then
		Encrypt.Parent = game.Players.LocalPlayer.PlayerGui
	else
		Encrypt.Parent = game.CoreGui
	end


	local Drag = Instance.new("Frame")
	Drag.Name = "Drag"
	Drag.Selectable = true
	Drag.Active = true
	Drag.Parent = Encrypt
	Drag.Position = UDim2.new(0.454, 0,0.407, 0)
	Drag.Size = UDim2.new(0.062, 0,0.022, 0)
	Drag.BackgroundColor3 = Color3.fromRGB(35, 33, 35)
	Drag.BackgroundTransparency = 0
	Drag.BorderSizePixel = 0
	Drag.Draggable = true
	Drag.ZIndex = 1

	local Border = Instance.new("Frame")
	Border.Name = "Border"
	Border.Parent = Drag
	Border.Position = UDim2.new(0, 0,0, 0)
	Border.Size = UDim2.new(4.207, 0,18.413, 0)
	Border.BackgroundColor3 = Color3.fromRGB(25, 24, 25)
	Border.BackgroundTransparency = 1
	Border.BorderSizePixel = 0
	Border.ZIndex = 0

	local Inside = Instance.new("Frame")
	Inside.Name = "Inside"
	Inside.Parent = Border
	Inside.Position = UDim2.new(-0.0025, 0,-0.005, 0)
	Inside.Size = UDim2.new(1.005, 0,1.01, 0)
	Inside.BackgroundColor3 = Color3.fromRGB(220, 67, 103)
	Inside.BorderColor3 = Color3.fromRGB(25, 24, 25)
	Inside.BackgroundTransparency = 0
	Inside.BorderSizePixel = 1
	Inside.ZIndex = 0

	local HubName = Instance.new("TextLabel")
	HubName.Name = "HubName"
	HubName.Parent = Drag
	HubName.Position = UDim2.new(0.058, 0,0, 0)
	HubName.Size = UDim2.new(0.701, 0,1, 0)
	HubName.BackgroundTransparency = 1
	HubName.TextColor3 = Color3.fromRGB(198, 197, 198)
	HubName.TextSize = 11
	HubName.TextXAlignment = "Left"
	HubName.Font = "GothamBold"
	HubName.Text = GUITitle
	HubName.ZIndex = 2

	local Main = Instance.new("Frame")
	Main.Name = "Main"
	Main.Parent = Drag
	Main.Position = UDim2.new(1, 0,-0, 0)
	Main.Size = UDim2.new(3.207, 0,18.413, 0)
	Main.BackgroundColor3 = Color3.fromRGB(25, 24, 25)
	Main.BackgroundTransparency = 0
	Main.BorderSizePixel = 0
	Main.ZIndex = 1

	local List = Instance.new("Frame")
	List.Name = "List"
	List.Parent = Drag
	List.Position = UDim2.new(0, 0,1, 0)
	List.Size = UDim2.new(1, 0,17.413, 0)
	List.BackgroundColor3 = Color3.fromRGB(26, 25, 26)
	List.BackgroundTransparency = 0
	List.BorderSizePixel = 0
	List.ZIndex = 1

	local UIListLayout = Instance.new("UIListLayout")
	UIListLayout.Parent = List
	UIListLayout.SortOrder = "LayoutOrder"

	local GroupLibrary = {}

	function GroupLibrary.AddGroup(GroupTitle)

		local Group = Instance.new("Frame")
		Group.Name = "Group"
		Group.Parent = List
		Group.Size = UDim2.new(0, 118,0, 19)
		Group.BackgroundTransparency = 1
		Group.ZIndex = 1

		local GroupName = Instance.new("TextLabel")
		GroupName.Name = "GroupName"
		GroupName.Parent = Group
		GroupName.Position = UDim2.new(0.068, 0,0, 0)
		GroupName.Size = UDim2.new(0.701, 0,1, 0)
		GroupName.BackgroundTransparency = 1
		GroupName.TextColor3 = Color3.fromRGB(198, 197, 198)
		GroupName.TextSize = 11
		GroupName.TextXAlignment = "Left"
		GroupName.Font = "GothamBold"
		GroupName.Text = GroupTitle
		GroupName.ZIndex = 2
	end

	function GroupLibrary.AddTab(TabTitle)

		local LeftLength = 0.03

		local LeftButtonLength = 0.03

		local RightLength = 0.03

		local Tab = Instance.new("ImageButton")
		Tab.Name = "Tab"
		Tab.Parent = List
		Tab.BorderColor3 = Color3.fromRGB(17, 255, 0)
		Tab.BackgroundColor3 = Color3.fromRGB(220, 67, 103)
		Tab.Size = UDim2.new(0, 118,0, 19)
		Tab.BackgroundTransparency = 1
		Tab.BorderSizePixel = 0
		Tab.ZIndex = 1

		local TabName = Instance.new("TextLabel")
		TabName.Name = "TabName"
		TabName.Parent = Tab
		TabName.Position = UDim2.new(0.068, 0,0, 0)
		TabName.Size = UDim2.new(0.701, 0,1, 0)
		TabName.BackgroundTransparency = 1
		TabName.TextColor3 = Color3.fromRGB(73, 74, 75)
		TabName.TextSize = 11
		TabName.TextXAlignment = "Left"
		TabName.Font = "GothamBold"
		TabName.Text = TabTitle
		TabName.ZIndex = 2



		Tab.AutoButtonColor = false
		Tab.MouseEnter:Connect(function(x, y)
			if Tab.BorderColor3 == Color3.fromRGB(17, 255, 0) then
				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					TextColor3 = Color3.fromRGB(96, 97, 98)
				})
				tween:Play()
			end
		end)
		Tab.MouseLeave:Connect(function(x, y)
			if Tab.BorderColor3 == Color3.fromRGB(17, 255, 0) then
				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					TextColor3 = Color3.fromRGB(73, 74, 75)
				})
				tween:Play()
			end
		end)


		Tab.MouseButton1Down:Connect(function(x,y)
			if Tab.BorderColor3 == Color3.fromRGB(17, 255, 0) then
				Tab.BorderColor3 = Color3.fromRGB(255, 0, 4)

				for _,Class in pairs(List:GetChildren()) do
					if Class.ClassName == "ImageButton" and Class.BorderColor3 == Color3.fromRGB(255, 0, 4) and Class ~= Tab then
						Class.BorderColor3 = Color3.fromRGB(17, 255, 0)

						print("yes")
						local tween = TweenService:Create(Class,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundTransparency = 1
						})
						tween:Play()
						local tween = TweenService:Create(Class.TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							TextColor3 = Color3.fromRGB(73, 74, 75)
						})
						tween:Play()
						local tween = TweenService:Create(Class.TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							Position = UDim2.new(0.068, 0,0, 0)
						})
						tween:Play()


					end
				end


				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					TextColor3 = Color3.fromRGB(198, 197, 198)
				})
				tween:Play()

				local tween = TweenService:Create(Tab,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					BackgroundTransparency = 0
				})
				tween:Play()

				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					Position = UDim2.new(0.12, 0,0, 0)
				})
				tween:Play()


			else
				Tab.BorderColor3 = Color3.fromRGB(17, 255, 0)
				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					TextColor3 = Color3.fromRGB(73, 74, 75)
				})
				tween:Play()
				local tween = TweenService:Create(TabName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					Position = UDim2.new(0.068, 0,0, 0)
				})
				tween:Play()

				local tween = TweenService:Create(Tab,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					BackgroundTransparency = 1
				})
				tween:Play()
			end
		end)



		local ActionLibrary = {}

		function ActionLibrary.AddAction(TabTitle, Side)
			local PositionX
			local ActionLength = 0.08


			if Side == "Left" then
				if LeftLength ~= 0.03 then
					LeftLength = LeftLength + 0.08
				end
			elseif Side == "Right" then
				if RightLength ~= 0.03 then
					RightLength = RightLength + 0.08
				end
			end

			local Color = Instance.new("Frame")
			Color.Name = "Color"
			Color.Parent = Main
			Color.BackgroundColor3 = Color3.fromRGB(220, 67, 103)
			Color.BorderSizePixel = 0
			Color.ZIndex = 5
			if Side == "Left" then
				PositionX = 0.033
				Color.Position = UDim2.new(PositionX, 0,LeftLength, 0)
			elseif Side == "Right" then
				PositionX = 0.517
				Color.Position = UDim2.new(PositionX, 0,RightLength, 0)
			end
			Color.Size = UDim2.new(0.439, 0,0.005, 0)

			local ActionName = Instance.new("TextLabel")
			ActionName.Name = "TabName"
			ActionName.Parent = Main
			if Side == "Left" then
				PositionX = 0.051
				ActionName.Position = UDim2.new(PositionX, 0,LeftLength + 0.025, 0)
				LeftLength = LeftLength + 0.005
			elseif Side == "Right" then
				PositionX = 0.536
				ActionName.Position = UDim2.new(PositionX, 0,RightLength + 0.025, 0)
				RightLength = RightLength + 0.005
			end
			ActionName.Size = UDim2.new(0.4, 0,0.027, 0)
			ActionName.BackgroundTransparency = 1
			ActionName.TextColor3 = Color3.fromRGB(198, 197, 198)
			ActionName.TextSize = 11
			ActionName.TextXAlignment = "Left"
			ActionName.Font = "GothamBold"
			ActionName.Text = TabTitle
			ActionName.ZIndex = 5

			local Action = Instance.new("Frame")
			Action.Name = "Action"
			Action.Parent = Main
			Action.BackgroundColor3 = Color3.fromRGB(29, 28, 29)
			Action.BorderSizePixel = 0
			Action.ZIndex = 4
			if Side == "Left" then
				PositionX = 0.033
				Action.Position = UDim2.new(PositionX, 0,LeftLength - 0.01, 0)
			elseif Side == "Right" then
				PositionX = 0.517
				Action.Position = UDim2.new(PositionX, 0,RightLength - 0.01, 0)
			end
			Action.Size = UDim2.new(0.439, 0,0.07, 0)


			local ButtonLibrary = {}


			function ButtonLibrary.AddSlider(Name, Side, ConfigurationDictionary, Callback)

				local Slide = Instance.new("Frame")
				Slide.Name = "Slide"
				Slide.BorderColor3 = Color3.fromRGB(17, 255, 0)
				Slide.Parent = Main
				Slide.Size = UDim2.new(0.4, 0,0.085, 0)
				if Side == "Left" then
					Slide.Position = UDim2.new(0.051, 0,LeftLength + 0.065, 0)
				elseif Side == "Right" then
					Slide.Position = UDim2.new(0.536, 0,RightLength + 0.065, 0)
				end
				Slide.BackgroundTransparency = 1
				Slide.ZIndex = 5


				local Slider = Instance.new("ImageButton")
				Slider.Name = "Slider"
				Slider.BackgroundColor3 = Color3.fromRGB(42, 43, 44)
				Slider.BorderSizePixel = 0
				Slider.Parent = Slide
				Slider.Size = UDim2.new(1.004, 0,10.401, 0)
				Slider.Position = UDim2.new(0.002, 0,0.541, 0)
				Slider.ZIndex = 5
				Slider.Image = ""
				Slider.AutoButtonColor = false

				local SliderName = Instance.new("TextLabel")
				SliderName.Name = "SliderName"
				SliderName.Parent = Slide
				SliderName.Size = UDim2.new(0.256, 0,0.33, 0)
				SliderName.Position = UDim2.new(0.001, 0,0, 0)
				SliderName.BackgroundTransparency = 1
				SliderName.TextColor3 = Color3.fromRGB(73, 74, 75)
				SliderName.TextSize = 11
				SliderName.TextXAlignment = "Left"
				SliderName.Font = "GothamBold"
				SliderName.Text = Name
				SliderName.ZIndex = 5

				local SliderNumber = Instance.new("TextLabel")
				SliderNumber.Name = "SliderNumber"
				SliderNumber.Parent = Slide
				SliderNumber.Size = UDim2.new(0.128, 0,0.401, 0)
				SliderNumber.Position = UDim2.new(0.43, 0,0.541, 0)
				SliderNumber.BackgroundTransparency = 1
				SliderNumber.TextColor3 = Color3.fromRGB(198, 197, 198)
				SliderNumber.TextSize = 11
				SliderNumber.TextXAlignment = "Center"
				SliderNumber.Font = "GothamBold"
				SliderNumber.Text = "0%"
				SliderNumber.ZIndex = 5
				
				local KeybindImage = Instance.new("ImageLabel")
				KeybindImage.Name = "KeybindImage"
				KeybindImage.Parent = Slider
				KeybindImage.Size = UDim2.new(0.987, 0,0.715, 0)
				KeybindImage.Position = UDim2.new(0.013, 0,0.17, 0)
				KeybindImage.BackgroundTransparency = 1
				KeybindImage.Image = "rbxassetid://1316045217"
				KeybindImage.ImageColor3 = Color3.fromRGB(0, 0, 0)
				KeybindImage.ScaleType = "Slice"
				KeybindImage.ImageTransparency = 0.86
				KeybindImage.SliceCenter = Rect.new(10, 10, 118, 118)
				KeybindImage.ZIndex = 6

				Action.Size = UDim2.new(0.439, 0,ActionLength + 0.11, 0)
				ActionLength = ActionLength + 0.11

				if Side == "Left" then
					LeftLength = LeftLength + 0.11
				elseif Side == "Right" then
					RightLength = RightLength + 0.11
				end




				local Configuration = ConfigurationDictionary
				local Minimum = Configuration.Minimum or Configuration.minimum or Configuration.Min or Configuration.min
				local Maximum = Configuration.Maximum or Configuration.maximum or Configuration.Max or Configuration.max
				local Default = Configuration.Default or Configuration.default or Configuration.Def or Configuration.def

				if Minimum > Maximum then
					local StoreValue = Minimum
					Minimum = Maximum
					Maximum = StoreValue
				end

				Default = math.clamp(Default, Minimum, Maximum)

				local DefaultScale = Default/Maximum


				local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
				UIAspectRatioConstraint.Parent = Slider
				UIAspectRatioConstraint.AspectRatio = 10

				local Fill = Instance.new("Frame")
				Fill.Name = "Fill"
				Fill.Parent = Slider
				Fill.BorderSizePixel = 0
				Fill.BackgroundColor3 = Color3.fromRGB(220, 67, 103)
				Fill.Size = UDim2.new(DefaultScale, 0, 1, 0)
				Fill.ZIndex = 5


				local dragging = false
				Slider.MouseButton1Down:Connect(function()
					dragging = true
				end)
				UserInputService.InputChanged:Connect(function()
					if dragging == true then
						local X, Y, XScale, YScale = GetXY(Slider)
						local Value = math.floor(Minimum + ((Maximum - Minimum) * XScale))
						--Callback(Value)
						SliderNumber.Text = tostring(Value) .. "%"
						local TargetSize = UDim2.new(XScale,0,1,0)
						Tween(Fill, {Size = TargetSize})
					end
				end)
				local SliderMove
				SliderMove = Mouse.Move:Connect(function()
					if dragging == true then
						local X, Y, XScale, YScale = GetXY(Slider)
						local Value = math.floor(Minimum + ((Maximum - Minimum) * XScale))
						--Callback(Value)
						SliderNumber.Text = tostring(Value) .. "%"
						local TargetSize = UDim2.new(XScale,0,1,0)
						Tween(Fill, {Size = TargetSize})
					end
				end)
				UserInputService.InputEnded:Connect(function(UserInput)

					if UserInput.UserInputType == Enum.UserInputType.MouseButton1 and dragging == true then
						--Tween(Fill, {ImageTransparency = 0.7})
						dragging = false
						SliderMove:Disconnect()
						--SliderKill:Disconnect()
					end
				end)
				
				
				
				
			end


			function ButtonLibrary.AddEnable(Side, Callback)

				local Color = true
				local Enable = Instance.new("ImageButton")
				Enable.Name = "List"
				Enable.BorderColor3 = Color3.fromRGB(17, 255, 0)
				Enable.Parent = Main
				Enable.Size = UDim2.new(0.4, 0,0.043, 0)

				if Side == "Left" then
					Enable.Position = UDim2.new(0.051, 0,LeftLength + 0.06, 0)
				elseif Side == "Right" then
					Enable.Position = UDim2.new(0.536, 0,RightLength + 0.06, 0)
				end


				Enable.BackgroundTransparency = 1
				Enable.ZIndex = 5
				Enable.Image = ""

				local EnableName = Instance.new("TextLabel")
				EnableName.Name = "Circle"
				EnableName.Parent = Enable
				EnableName.Size = UDim2.new(0.806, 0,0.876, 0)
				EnableName.Position = UDim2.new(0.104, 0,0.124, 0)
				EnableName.BackgroundTransparency = 1
				EnableName.TextColor3 = Color3.fromRGB(73, 74, 75)
				EnableName.TextSize = 11
				EnableName.TextXAlignment = "Left"
				EnableName.Font = "GothamBold"
				EnableName.Text = "Enable"
				EnableName.ZIndex = 5

				local Circle = Instance.new("Frame")
				Circle.Name = "Circle"
				Circle.Parent = Enable
				Circle.Size = UDim2.new(0.075, 0,0.587, 0)
				Circle.BackgroundColor3 = Color3.fromRGB(66, 67, 68)

				Circle.Position = UDim2.new(0, 0,0.255, 0)
				Circle.BackgroundTransparency = 0
				Circle.ZIndex = 5

				local UICorner = Instance.new("UICorner")
				UICorner.Parent = Circle
				UICorner.CornerRadius = UDim.new(1000,0)

				Action.Size = UDim2.new(0.439, 0,ActionLength + 0.05, 0)


				ActionLength = ActionLength + 0.05


				if Side == "Left" then
					LeftLength = LeftLength + 0.05
				elseif Side == "Right" then
					RightLength = RightLength + 0.05
				end


				local CircleTween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
					BackgroundColor3 = Color3.fromRGB(82, 83, 84)
				})

				Enable.MouseEnter:Connect(function(x, y)

					local tween = TweenService:Create(EnableName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
						TextColor3 = Color3.fromRGB(96, 97, 98)
					})
					tween:Play()
					if Enable.BorderColor3 == Color3.fromRGB(17, 255, 0) then

						CircleTween:Play()
					end
				end)
				Enable.MouseLeave:Connect(function(x, y)
					local tween = TweenService:Create(EnableName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
						TextColor3 = Color3.fromRGB(73, 74, 75)
					})
					tween:Play()
					if Enable.BorderColor3 == Color3.fromRGB(17, 255, 0) then
						local tween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundColor3 = Color3.fromRGB(66, 67, 68)
						})
						tween:Play()
					end
				end)

				Enable.MouseButton1Down:Connect(function(i,gameProcessed)
					if Color == true then
						Color = not Color

						Callback(true)
						CircleTween:Cancel()
						local tween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundColor3 = Color3.fromRGB(220, 67, 103)
						})
						tween:Play()
						Enable.BorderColor3 = Color3.fromRGB(255, 0, 0)
					else
						Color = not Color
						Callback(false)
						local tween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundColor3 = Color3.fromRGB(66, 67, 68)
						})
						tween:Play()
						Enable.BorderColor3 = Color3.fromRGB(17, 255, 0)
					end

				end)

				local KeybindLibrary = {}

				function KeybindLibrary.AddKeybind()

					print("sunsjsnj")

					local selecting = false
					local keyn

					local Keybind = Instance.new("ImageButton")
					Keybind.Name = "List"
					Keybind.Parent = Main
					Keybind.Size = UDim2.new(0.4, 0,0.043, 0)

					if Side == "Left" then
						Keybind.Position = UDim2.new(0.051, 0,LeftLength + 0.06, 0)
					elseif Side == "Right" then
						Keybind.Position = UDim2.new(0.536, 0,RightLength + 0.06, 0)
					end

					Keybind.BackgroundTransparency = 1
					Keybind.ZIndex = 5

					local KeybindName = Instance.new("TextLabel")
					KeybindName.Name = "KeybindName"
					KeybindName.Parent = Keybind
					KeybindName.Size = UDim2.new(0.338, 0,0.673, 0)
					KeybindName.Position = UDim2.new(0.001, 0,0.143, 0)
					KeybindName.BackgroundTransparency = 1
					KeybindName.TextColor3 = Color3.fromRGB(73, 74, 75)
					KeybindName.TextSize = 11
					KeybindName.TextXAlignment = "Left"
					KeybindName.Font = "GothamBold"
					KeybindName.Text = "Keybind"
					KeybindName.ZIndex = 5

					local KeyBack = Instance.new("Frame")
					KeyBack.Name = "KeyBack"
					KeyBack.Parent = Keybind
					KeyBack.Size = UDim2.new(0.662, 0,0.791, 0)
					KeyBack.BackgroundColor3 = Color3.fromRGB(42, 43, 44)
					KeyBack.Position = UDim2.new(0.339, 0,0.124, 0)
					KeyBack.BackgroundTransparency = 0
					KeyBack.BorderSizePixel = 0
					KeyBack.ZIndex = 5

					local KeybindImage = Instance.new("ImageLabel")
					KeybindImage.Name = "KeybindImage"
					KeybindImage.Parent = KeyBack
					KeybindImage.Size = UDim2.new(0.987, 0,0.715, 0)
					KeybindImage.Position = UDim2.new(0.013, 0,0.17, 0)
					KeybindImage.BackgroundTransparency = 1
					KeybindImage.Image = "rbxassetid://1316045217"
					KeybindImage.ImageColor3 = Color3.fromRGB(0, 0, 0)
					KeybindImage.ScaleType = "Slice"
					KeybindImage.ImageTransparency = 0.86
					KeybindImage.SliceCenter = Rect.new(10, 10, 118, 118)
					KeybindImage.ZIndex = 6

					local InputButName = Instance.new("TextLabel")
					InputButName.Name = "InputButName"
					InputButName.Parent = Keybind
					InputButName.Size = UDim2.new(0.338, 0,0.673, 0)
					InputButName.Position = UDim2.new(0.495, 0,0.143, 0)
					InputButName.BackgroundTransparency = 1
					InputButName.TextColor3 = Color3.fromRGB(198, 197, 198)
					InputButName.TextSize = 11
					InputButName.TextXAlignment = "Center"
					InputButName.Font = "GothamBold"
					InputButName.Text = "N/A"
					InputButName.ZIndex = 5


					Action.Size = UDim2.new(0.439, 0,ActionLength + 0.06, 0)
					ActionLength = ActionLength + 0.06

					if Side == "Left" then
						LeftLength = LeftLength + 0.06
						print("Yes daddy")
					elseif Side == "Right" then
						RightLength = RightLength + 0.06
					end



					Keybind.MouseEnter:Connect(function(x, y)
						local tween = TweenService:Create(KeybindName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							TextColor3 = Color3.fromRGB(96, 97, 98)
						})
						tween:Play()
						local tween = TweenService:Create(KeyBack,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundColor3 = Color3.fromRGB(50, 52, 53)
						})
						tween:Play()
					end)
					Keybind.MouseLeave:Connect(function(x, y)
						local tween = TweenService:Create(KeybindName,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							TextColor3 = Color3.fromRGB(73, 74, 75)
						})
						tween:Play()
						local tween = TweenService:Create(KeyBack,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
							BackgroundColor3 = Color3.fromRGB(42, 43, 44)
						})
						tween:Play()
					end)


					Keybind.MouseButton1Click:Connect(function(input, gameProcessed)
						if gameProcessed then return end
						selecting = false
						if selecting == false then
							InputButName.Text = ". . ."
							UserInputService.InputBegan:Connect(function(input, gameProcessed)
								if selecting == false then
									local key = string.split(tostring(input.KeyCode), ".")
									InputButName.Text = key[3]
									keyn = input.KeyCode
									wait(0.1)
									selecting = true
								end
							end)
						end
					end)
					UserInputService.InputBegan:Connect(function(input, gameProcessed)
						if gameProcessed then return end
						if selecting == true then
							if input.KeyCode == keyn then
								if Color == true then
									Color = not Color
									Callback(true)
									CircleTween:Cancel()
									local tween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
										BackgroundColor3 = Color3.fromRGB(220, 67, 103)
									})
									tween:Play()
									Enable.BorderColor3 = Color3.fromRGB(255, 0, 0)
								else
									Color = not Color
									Callback(false)
									Enable.BorderColor3 = Color3.fromRGB(17, 255, 0)
									local tween = TweenService:Create(Circle,TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out,0,false,0),{
										BackgroundColor3 = Color3.fromRGB(66, 67, 68)
									})
									tween:Play()
								end

							end
						end
					end)


				end
				return KeybindLibrary

			end
			return ButtonLibrary
		end
		return ActionLibrary
	end
	return GroupLibrary
end
return UILibrary
